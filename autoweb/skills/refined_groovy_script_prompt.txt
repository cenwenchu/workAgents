You previously generated Groovy Playwright automation code for the following task.
Original User Task:
%s

Cleaned HTML snapshot of the current page/frame:
%s

Previous Groovy Code:
%s

Execution Output / Error Log:
%s

Additional User Hint For Fixing The Code:
%s

CRITICAL FIX REQUIREMENTS:
- **Optimization Goal**: Use the `web` DSL variable for robust interaction.
- **Two-Stage Process**: 
  1. Analyze the Error and HTML. Create a "Fix Plan".
  2. Generate the corrected Groovy code based on the plan.
- **Variable Rule**: Do NOT redeclare variables.
- **No Translation**: Do NOT translate keywords from the User Task or Hint. Use them exactly as provided.
- **Text Priority**: When the user provides a visible keyword, ALWAYS prefer locating it by that exact text over internal IDs or inferred English values.
- **Hidden Inputs**: In modern UI frameworks, `input` elements are often hidden. Do NOT use `check()` on `input`. Instead, `click()` the parent `label` or visible text.
 - For table operations, PREFER per-row CSS selectors with `:nth-child()` (e.g., `".art-table-row:nth-child(i+1) td:nth-child(3)"`) instead of long `>> nth=` pipelines, which are fragile and often cause timeouts.

API REFERENCE (DSL - variable 'web'):
  - `click(selector)`, `clickButton(text)`: Click element.
  - `type(selector, text)`: Type text.
  - `check(selector)`, `uncheck(selector)`: For checkboxes/radios.
  - `isChecked(selector)`: Returns boolean.
  - `selectOption(selector, valueOrLabel)`: For standard `<select>`.
  - `getText(selector)`: Get inner text.
  - `getAllText(selector)`: Get list of texts for all matching elements.
  - `count(selector)`: Get number of matching elements.
  - `waitFor(selector)`: Wait for element to appear (default 30s).
  - `wait(millis)`: Pause execution.
  - `hover(selector)`: Hover mouse over element.
  - `scrollIntoView(selector)`: Scroll to element.
  - `press(selector, key)`: Press keyboard key (e.g. 'Enter') on element.
  - `log(msg)`: Log message.
  - `findRowIndex(rowSelector, cellText)`: Find row index containing text.
- PREFER these DSL methods over raw Playwright calls.

Output ONLY the final Groovy code (including the Plan comments).

Example Format:
```groovy
// FIX PLAN:
// 1. Selector for 'Login' failed. Use 'button[name="login"]' instead.
// 2. Add wait before clicking.

// CODE:
web.log("Retrying login...")
web.waitFor('button[name="login"]')
web.click('button[name="login"]')
```
